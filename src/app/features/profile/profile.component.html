<div class="container d-flex flex-column ms-auto" >

  <div class="nav">
    <img src ='user.jpg' alt="image">
  </div>
  <div class="container mt-4">

    <form *ngIf="patient" (ngSubmit)="saveChanges()">
      <div class="mb-3">
        <label class="form-label">Name:</label>
        <input type="text" class="form-control" [(ngModel)]="patient.name" name="name" [disabled]="!isEditing">
      </div>

      <div class="mb-3">
        <label class="form-label">Phone:</label>
        <input type="text" class="form-control" [(ngModel)]="patient.phone" name="phone" [disabled]="!isEditing">
      </div>

      <div class="mb-3">
        <label class="form-label">Email:</label>
        <input type="email" class="form-control" [(ngModel)]="patient.email" name="email" [disabled]="!isEditing">
      </div>

      <button type="button" class="btn btn-primary me-2" (click)="toggleEdit()">
        {{ isEditing ? 'Cancel' : 'Edit' }}
      </button>
      <button type="submit" class="btn btn-success" *ngIf="isEditing">Save</button>
    </form>

    <hr>

    <h3>X-ray History</h3>
    <div class="image-gallery">
      <div class="xray-item" *ngFor="let xray of xrayHistory">
        <img [src]="xray.imageUrl" alt="X-ray" class="thumbnail" (click)="openImage(xray)">
        <p>{{ xray.report }}</p>
      </div>
    </div>


    <div class="modal" [class.show]="selectedImage" (click)="closeImage()">
      <div class="modal-content">
        <img [src]="selectedImage?.imageUrl" alt="X-ray">
        <p>{{ selectedImage?.report }}</p>
      </div>
    </div>
  </div>
</div>
