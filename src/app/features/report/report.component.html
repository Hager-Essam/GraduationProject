<div class="container-fluid">
  <!--  <h2>X-ray Report</h2>-->
  <label class="upload-box">
    <img class="img result" [src]="imageUrl" alt="Uploaded X-ray"
         style="max-width:300px; max-height:300px; border-radius:12px; box-shadow:0 4px 32px #ddd;">
    <div *ngIf="imageUrl" style="text-align:center; margin-bottom:1.5rem;"></div>

    <div class="before" *ngIf="!report">
      <p>Your report will be generated here...</p>
      <app-loader/>
      <div class="loader"></div>
    </div>

    <div *ngIf="report">
      <ul>
<!--        <li><b>Patient ID:</b> {{ report.id || 'Processing...' }}</li>-->
<!--        <li><b>File Name:</b> {{ report.filename || 'Processing...' }}</li>-->
        <li>
          <b>Status:</b>
          <span class="result"  *ngIf="report.status === 'Completed'; else progressStatus">{{ report.status }}</span>
          <ng-template #progressStatus>
<span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
      Processing...
    </span></ng-template>
        </li>
        <li>
          <b>Body Part:</b>
          <span class="result"  *ngIf="report.bodyPart; else bodyPartProcessing">{{ report.bodyPart }}</span>
          <ng-template #bodyPartProcessing>
            <span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
      Processing...
    </span></ng-template>
        </li>
        <li>
          <b>Prediction:</b>
          <span class="result"  *ngIf="report.prediction; else predictionProcessing">{{ report.prediction }}</span>
          <ng-template #predictionProcessing>
            <span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
             Processing...
              </span>
          </ng-template>
        </li>
        <li>
          <b>Confidence:</b>
          <span class="result"  *ngIf="report.confidence != null; else confProcessing">
      {{ (report.confidence * 100 | number:'1.1-2') + '%' }}
             </span>
          <ng-template #confProcessing>
            <span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
      Processing...
           </span>
          </ng-template>
        </li>
        <li>
          <b>Fracture Confidence:</b>
          <span *ngIf="report.fractureConfidence != null; else fracConfProcessing">
      {{ (report.fractureConfidence * 100 | number:'1.1-2') + '%' }}
    </span>
          <ng-template #fracConfProcessing>
          <span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
      Processing...
    </span></ng-template>
        </li>

        <li>
          <b>Received Time:</b>
          <span class="result" *ngIf="report.receivedTime; else timeProcessing">
      {{ report.receivedTime | date:'short' }}
        </span>
          <ng-template #timeProcessing>
         <span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
      Processing...
    </span></ng-template>
        </li>


        <li>
          <b>model Time Seconds:</b>
          <span class="result" *ngIf="report.modelTimeSeconds; else timeProcessing">
      {{ report.modelTimeSeconds  }}
        </span>
          <ng-template #timeProcessing>
         <span [ngClass]="processingDelayed ? 'processing-green' : 'processing-yellow'">
      Processing...
    </span></ng-template>
        </li>


        <li><b>Error:</b> {{ report.error || 'None' }}</li>
      </ul>
    </div>
  </label>

</div>

